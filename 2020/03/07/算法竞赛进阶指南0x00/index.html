<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jjl.gold","root":"/","scheme":"Gemini","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="0x01 位运算位移运算$1 &lt;&lt; n &#x3D; 2^n , n &lt;&lt; 1 &#x3D; n*2 , n &gt;&gt; 1 &#x3D; n&#x2F;2$（向下取整） 二进制应用1.快速幂: a^b ,Raising Modulo Numbers二分乘法: 64位整数乘法 各种位运算符2.状态压缩：最短Hamilton路径题目大意：求起点位0，终点为n-1的最短哈密图路线。（Hamilton路径的定义是">
<meta property="og:type" content="article">
<meta property="og:title" content="算法竞赛进阶指南0x00-算法基础">
<meta property="og:url" content="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/index.html">
<meta property="og:site_name" content="简杰龙">
<meta property="og:description" content="0x01 位运算位移运算$1 &lt;&lt; n &#x3D; 2^n , n &lt;&lt; 1 &#x3D; n*2 , n &gt;&gt; 1 &#x3D; n&#x2F;2$（向下取整） 二进制应用1.快速幂: a^b ,Raising Modulo Numbers二分乘法: 64位整数乘法 各种位运算符2.状态压缩：最短Hamilton路径题目大意：求起点位0，终点为n-1的最短哈密图路线。（Hamilton路径的定义是">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/city.png">
<meta property="og:image" content="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/cow.png">
<meta property="article:published_time" content="2020-03-07T11:32:50.000Z">
<meta property="article:modified_time" content="2020-03-09T08:03:20.594Z">
<meta property="article:author" content="Jjl0229">
<meta property="article:tag" content="算法竞赛进阶指南">
<meta property="article:tag" content="算法基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/city.png">

<link rel="canonical" href="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>算法竞赛进阶指南0x00-算法基础 | 简杰龙</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <!-- 代码块复制功能 -->

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">简杰龙</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right"></div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-相册">

    <a href="/photos/" rel="section"><i class="fa fa-fw fa-photo"></i>相册</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Jjl0229">
      <meta itemprop="description" content="策谋本天成，妙手偶得之">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="简杰龙">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          算法竞赛进阶指南0x00-算法基础
        </h1>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 19:32:50" itemprop="dateCreated datePublished" datetime="2020-03-07T19:32:50+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-09 16:03:20" itemprop="dateModified" datetime="2020-03-09T16:03:20+08:00">2020-03-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/" itemprop="url" rel="index">
                    <span itemprop="name">算法竞赛进阶指南</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="0x01-位运算"><a href="#0x01-位运算" class="headerlink" title="0x01 位运算"></a>0x01 位运算</h2><h3 id="位移运算"><a href="#位移运算" class="headerlink" title="位移运算"></a>位移运算</h3><p>$1 &lt;&lt; n = 2^n , n &lt;&lt; 1 = n*2 , n &gt;&gt; 1 = n/2$（向下取整）</p>
<h3 id="二进制应用"><a href="#二进制应用" class="headerlink" title="二进制应用"></a>二进制应用</h3><p>1.快速幂: <a href="https://ac.nowcoder.com/acm/contest/996/A" target="_blank" rel="noopener">a^b</a> ,<br><a href="https://ac.nowcoder.com/acm/contest/996/B" target="_blank" rel="noopener">Raising Modulo Numbers</a><br>二分乘法: <a href="https://ac.nowcoder.com/acm/contest/996/C" target="_blank" rel="noopener">64位整数乘法
</a><br>各种位运算符<br>2.状态压缩：<a href="https://ac.nowcoder.com/acm/contest/996/D" target="_blank" rel="noopener">最短Hamilton路径</a><br>题目大意：求起点位0，终点为n-1的最短哈密图路线。（Hamilton路径的定义是从 0 到 n-1 不重不漏地经过每个点恰好一次。） (n&lt;=20)<br><a id="more"></a><br>思路：状压dp。（对于数据是15~20的题，很大概率是状压dp）dp[state][j]表示state的二进制表示下，每一位如果是1表示走过了这个点，j表示当前状态停在了哪个点，此状态下的最短路径。<br>状态转移方程：$dp[state][j]=min(dp[state][j],dp[i$^$(1$&lt;&lt;$j)][k]+g[j][k])$, ($i\&amp;(1$&lt;&lt;$k)==1$,$i\&amp;(1$&lt;&lt;$k)==1$)。即从没有到过j时在k的状态到j可以得到到过j,k最后停在k的最优状态。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[(<span class="number">1</span>&lt;&lt;<span class="number">20</span>)][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> g[<span class="number">20</span>][<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="built_in">memset</span>(dp,<span class="number">0x3f</span>,<span class="keyword">sizeof</span> dp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;++j)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;g[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">1</span>][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;(<span class="number">1</span>&lt;&lt;n);++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i&amp;(<span class="number">1</span>&lt;&lt;j))&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;++k)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(j==k) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(i&amp;(<span class="number">1</span>&lt;&lt;k))&#123;</span><br><span class="line">                       dp[i][j]=min(dp[i][j],dp[i^(<span class="number">1</span>&lt;&lt;j)][k]+g[j][k]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dp[(<span class="number">1</span>&lt;&lt;n)<span class="number">-1</span>][n<span class="number">-1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="0x02-递归与递推"><a href="#0x02-递归与递推" class="headerlink" title="0x02 递归与递推"></a>0x02 递归与递推</h2><p><a href="https://www.acwing.com/problem/content/94/" target="_blank" rel="noopener">递归实现指数型枚举</a><br><a href="https://www.acwing.com/problem/content/95/" target="_blank" rel="noopener">递归实现组合型枚举</a><br><a href="https://www.acwing.com/problem/content/96/" target="_blank" rel="noopener">递归实现排列型枚举</a>  </p>
<h3 id="奇怪的汉诺塔"><a href="#奇怪的汉诺塔" class="headerlink" title="奇怪的汉诺塔"></a><a href="https://www.acwing.com/problem/content/submission/code_detail/974112/" target="_blank" rel="noopener">奇怪的汉诺塔</a></h3><p>题目描述：  </p>
<blockquote>
<p>汉诺塔问题，条件如下：<br>1、这里有A、B、C和D四座塔。<br>2、这里有n个圆盘，n的数量是恒定的。<br>3、每个圆盘的尺寸都不相同。<br>4、所有的圆盘在开始时都堆叠在塔A上，且圆盘尺寸从塔顶到塔底逐渐增大。<br>5、我们需要将所有的圆盘都从塔A转移到塔D上。<br>6、每次可以移动一个圆盘，当塔为空塔或者塔顶圆盘尺寸大于被移动圆盘时，可将圆盘移至这座塔上。<br>请你求出将所有圆盘从塔A移动到塔D，所需的最小移动次数是多少。(1≤n≤12) </p>
</blockquote>
<p>思路：我们可以这样想一开始A上有n个盘子。先把A上面的i个盘子移到B上，再利用A,C,D把A下面的n-i个盘子移动到D上，之后D上的盘子就固定了。然后的任务就是B上的i个移动到D上，同理我们移动上面的j个到A上，再将B下面i-j个移动到D上…我们发现这是一个连带三个汉诺塔的递归，我们知道三个柱子汉诺塔移动n个盘子的次数是2^n-1。然后就是如何选取这i,j..个盘子,设n个盘子的答案是$f[n],f[n]=min(2*f[i]+2$<sup>$n-i$</sup>$-1)（0<i<k）$,我们已知1,2的f等于1,3那么后面的就可以递推出来啦。 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    f[<span class="number">1</span>]=<span class="number">1</span>;f[<span class="number">2</span>]=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">3</span>;k&lt;=<span class="number">12</span>;++k)&#123;</span><br><span class="line">        f[k]=<span class="number">10000000</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;k;++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> t=<span class="number">2</span>*f[i]+<span class="built_in">pow</span>(<span class="number">2</span>,k-i)<span class="number">-1</span>;</span><br><span class="line">            f[k]=min(f[k],t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">12</span>;++i)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;f[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></i<k）$,我们已知1,2的f等于1,3那么后面的就可以递推出来啦。></p>
<h3 id="约数之和"><a href="#约数之和" class="headerlink" title="约数之和"></a><a href="https://www.acwing.com/problem/content/description/99/" target="_blank" rel="noopener">约数之和</a></h3><blockquote>
<p>题目描述：<br>假设现在有两个自然数A和B，S是AB的所有约数之和。请你求出S mod 9901的值是多少。<br>输入格式<br>在一行中输入用空格隔开的两个整数A和B。<br>输出格式<br>输出一个整数，代表$S mod 9901$的值。<br>数据范围:$0≤A,B≤5×10^7$  </p>
</blockquote>
<p>思路：这道题放在这是考察分治求等比数列和的。还需要知道约束和公式,a可以分解质因子为: $a=p_1$<sup>i</sup>$×p_2$<sup>j</sup>$×…×p_n$<sup>k</sup>.<br><strong>a的约数和等于:$(1+a_1+…+a_1$<sup>i</sup>$)×(1+a_2+…+a_2$<sup>j</sup>$)×…×(1+a_n+…+a_n$<sup>k</sup>$)$</strong><br>可以发现每一项都是一个以1为首相a为公比的等比数列前i+1项和。<br>等比数列有两种求法：  </p>
<h4 id="1-分治"><a href="#1-分治" class="headerlink" title="1.分治"></a>1.分治</h4><p>偶数项的等比数列可表示为，$sum(p,k)$。<br>k为奇数,那么就有偶数项：<br>$1+a^1+a^2+…+a^k=(1+a$<sup>(k+1)/2</sup>$)×sum(p,(k-1)/2)$<br>k为偶数,那么就有奇数项：<br>$1+a^1+a^2+…+a^k=(1+a$<sup>k/2</sup>$)×sum(p,k/2-1)+p^k$<br>可以容易推出偶数项的情况，而奇数项为项-1的偶数项加上$p^k$。</p>
<h4 id="2-快速幂-逆元"><a href="#2-快速幂-逆元" class="headerlink" title="2.快速幂+逆元"></a>2.快速幂+逆元</h4><p>$sum(p,k)=(qp(p,k)-1)*inv(p-1,mod)$<br>需要注意一点就是p-1和mod不互质时，那么含p的所有约数与mod模都是1，所有答案就是项的个数k+1<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod=<span class="number">9901</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> p[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ex_gcd</span><span class="params">(LL a,LL b,LL &amp;x,LL &amp;y,LL &amp;d)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(b==<span class="number">0</span>)&#123;</span><br><span class="line">		d=a;</span><br><span class="line">		x=<span class="number">1</span>;y=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	&#125;</span><br><span class="line">	ex_gcd(b,a%b,y,x,d);</span><br><span class="line">	y-=x*(a/b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">inv</span><span class="params">(LL t,LL p)</span></span>&#123;  <span class="comment">//除数t关于模数p的逆元</span></span><br><span class="line">	LL d,x,y;</span><br><span class="line">	ex_gcd(t,p,x,y,d);</span><br><span class="line">	<span class="keyword">return</span> d==<span class="number">1</span> ? (x%p+p)%p : <span class="number">-1</span>;<span class="comment">//使逆元非负</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)&#123;</span><br><span class="line">            (res*=a)%=mod;</span><br><span class="line">        &#125;</span><br><span class="line">        a=a*a%mod;</span><br><span class="line">        b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//快速幂+逆元</span></span><br><span class="line">    <span class="keyword">if</span>(num[x]%mod==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (p[x])%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> ((qp(num[x],p[x]+mod<span class="number">-1</span>)<span class="number">-1</span>+mod)%mod*inv(num[x]<span class="number">-1</span>,mod)%mod)%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> c)</span></span>&#123;<span class="comment">//分治</span></span><br><span class="line">    <span class="keyword">if</span>(c==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(c==<span class="number">1</span>) <span class="keyword">return</span> (<span class="number">1</span>+p)%mod;</span><br><span class="line">    <span class="keyword">if</span>(c%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">1</span>+qp(p,(c+<span class="number">1</span>)/<span class="number">2</span>)%mod)%mod*f(p,(c<span class="number">-1</span>)/<span class="number">2</span>)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(c%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> ((<span class="number">1</span>+qp(p,c/<span class="number">2</span>))%mod*f(p,c/<span class="number">2</span><span class="number">-1</span>)%mod+qp(p,c)%mod)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span>  <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    b%=mod<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"0"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i*i&lt;=a;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a%i==<span class="number">0</span>)&#123;</span><br><span class="line">            ++cnt;</span><br><span class="line">            <span class="keyword">while</span>(a%i==<span class="number">0</span>)&#123;</span><br><span class="line">                p[cnt]++;</span><br><span class="line">                a/=i;</span><br><span class="line">            &#125;</span><br><span class="line">            (p[cnt]*=b);</span><br><span class="line">            (p[cnt]+=<span class="number">1</span>)%=(mod<span class="number">-1</span>);</span><br><span class="line">            num[cnt]=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(a&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        p[++cnt]=b+<span class="number">1</span>;</span><br><span class="line">        num[cnt]=a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=cnt;++i)&#123;</span><br><span class="line">        (res*=f(i))%=mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="分形之城"><a href="#分形之城" class="headerlink" title="分形之城"></a><a href="https://www.acwing.com/problem/content/100/" target="_blank" rel="noopener">分形之城</a></h3><blockquote>
<p>城市的规划在城市建设中是个大问题。<br>不幸的是，很多城市在开始建设的时候并没有很好的规划，城市规模扩大之后规划不合理的问题就开始显现。<br>而这座名为 Fractal的城市设想了这样的一个规划方案，如下图所示：<br>当城区规模扩大之后，Fractal的解决方案是把和原来城区结构一样的区域按照图中的方式建设在城市周围，提升城市的等级。<br>对于任意等级的城市，我们把正方形街区从左上角开始按照道路标号。<br>虽然这个方案很烂，Fractal 规划部门的人员还是想知道，如果城市发展到了等级N，编号为A和B的两个街区的直线距离是多少。<br>街区的距离指的是街区的中心点之间的距离，每个街区都是边长为 10 米的正方形。<br><img src="/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/city.png" alt></p>
</blockquote>
<p>思路：<br>从1—&gt;2我们可以看出，在2的左上是顺时针旋转90°后水平翻转，右上是沿平向右水方向平移一个1图的边长，右下是沿平向向右和沿竖直向下方向平移一个1图的边长，左下是逆时针旋转90°后水平翻转再沿竖直向下方向平移一个1图的边长。<br>我们要想得到n级图，首要需要得到n-1级图。<br>为了模运算更加方便，我们设0,0点位1号点,n-1图的边长为L，x为水平坐标，y为竖直坐标，n-1-&gt;n每个点对应的变化为：<br>n-1图的左上点(x,y)顺时针旋转90°变为(L-y-1,x)，再水平翻转变为(y,x);<br>n-1图的右上点(x,y)沿平向右水方向平移变为(x+L,y);<br>n-1图的右下点(x,y)沿平向右水方向平移变为(x+L,y+L);<br>n-1图的左下点(x,y)先逆时针旋转90°后变为(y,L-x-1),再水平翻转变为(L-y-1,L-x-1),最后沿竖直向下平移(L-y-1,L*2-x-1)。<br>移动有点抽象，可以手动画在纸上或paint翻转一下就比较显然了。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ac</span>&#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> x,y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">ac <span class="title">calc</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n,<span class="keyword">long</span> <span class="keyword">long</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> l=(<span class="number">1L</span>L&lt;&lt;(n<span class="number">-1</span>)),cnt=(<span class="number">1L</span>L&lt;&lt;(<span class="number">2</span>*n<span class="number">-2</span>));</span><br><span class="line">    ac pre=calc(n<span class="number">-1</span>,m%cnt);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> x=pre.x,y=pre.y,z=m/cnt;</span><br><span class="line">    <span class="keyword">if</span>(z==<span class="number">0</span>) <span class="keyword">return</span> &#123;y,x&#125;;</span><br><span class="line">    <span class="keyword">if</span>(z==<span class="number">1</span>) <span class="keyword">return</span> &#123;x+l,y&#125;;</span><br><span class="line">    <span class="keyword">if</span>(z==<span class="number">2</span>) <span class="keyword">return</span> &#123;x+l,y+l&#125;;</span><br><span class="line">    <span class="keyword">if</span>(z==<span class="number">3</span>) <span class="keyword">return</span> &#123;l<span class="number">-1</span>-y,l*<span class="number">2</span><span class="number">-1</span>-x&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> N,T,a,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;N&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        a--;b--;</span><br><span class="line">        ac aa=calc(N,a);</span><br><span class="line">        ac bb=calc(N,b);</span><br><span class="line">        <span class="keyword">double</span> d=<span class="built_in">sqrt</span>(<span class="number">1.0</span>*(aa.x-bb.x)*(aa.x-bb.x)+<span class="number">1.0</span>*(aa.y-bb.y)*(aa.y-bb.y))*<span class="number">10</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.0lf\n"</span>,d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="0x03-前缀和差分"><a href="#0x03-前缀和差分" class="headerlink" title="0x03 前缀和差分"></a>0x03 前缀和差分</h2><h3 id="激光炸弹"><a href="#激光炸弹" class="headerlink" title="激光炸弹"></a><a href="https://www.acwing.com/problem/content/description/101/" target="_blank" rel="noopener">激光炸弹</a></h3><blockquote>
<p>地图上有 N 个目标，用整数Xi,Yi表示目标在地图上的位置，每个目标都有一个价值Wi。<br>注意：不同目标可能在同一位置。<br>现在有一种新型的激光炸弹，可以摧毁一个包含 R×R 个位置的正方形内的所有的目标。<br>激光炸弹的投放是通过卫星定位的，但其有一个缺点，就是其爆炸范围，即那个正方形的边必须和x，y轴平行。<br>求一颗炸弹最多能炸掉地图上总价值为多少的目标。<br>输入格式<br>第一行输入正整数 N 和 R ,分别代表地图上的目标数目和正方形的边长，数据用空格隔开。<br>接下来N行，每行输入一组数据，每组数据包括三个整数Xi,Yi,Wi,分别代表目标的x坐标，y坐标和价值，数据用空格隔开。<br>输出格式<br>输出一个正整数，代表一颗炸弹最多能炸掉地图上目标的总价值数目。<br>数据范围:<br>$0≤R≤10^9,<br>0&lt;N≤10000,<br>0≤Xi,Yi≤5000,<br>0≤Wi≤1000.$   </p>
</blockquote>
<p>思路: 二位前缀和。<br>初始化:(1,1)点到(i,j)矩形内的和为:$pre[i][j]+=pre[i-1][j]+pre[i][j-1]-pre[i-1][j-1];$<br>求部分矩形内的和:(x,y)点到(i,j)矩形内的和为：$pre[x][y]-pre[i-1][y]-pre[x][j-1]+pre[i-1][j-1];$<br>本题x,y很小，直接枚举左上角即可。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">5010</span>][<span class="number">5010</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calc</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre[x][y]-pre[i<span class="number">-1</span>][y]-pre[x][j<span class="number">-1</span>]+pre[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,r,x,y,v;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y&gt;&gt;v;</span><br><span class="line">        pre[++x][++y]=v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">5001</span>;++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">5001</span>;++j)&#123;</span><br><span class="line">            pre[i][j]+=pre[i<span class="number">-1</span>][j]+pre[i][j<span class="number">-1</span>]-pre[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">5001</span>;++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=<span class="number">5001</span>;++j)&#123;</span><br><span class="line">            x=i+r<span class="number">-1</span>,y=j+r<span class="number">-1</span>;</span><br><span class="line">            x=min(x,<span class="number">5001</span>);y=min(y,<span class="number">5001</span>);</span><br><span class="line">            res=max(res,calc(x,y,i,j));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="增减序列"><a href="#增减序列" class="headerlink" title="增减序列"></a><a href="https://www.acwing.com/problem/content/description/102/" target="_blank" rel="noopener">增减序列</a></h3><blockquote>
<p>给定一个长度为n的数列$a_1,a_2,…,a_n$，每次可以选择一个区间[l,r]，使下标在这个区间内的数都加一或者都减一。<br>求至少需要多少次操作才能使数列中的所有数都一样，并求出在保证最少次数的前提下，最终得到的数列可能有多少种。<br>输入格式<br>第一行输入正整数n。<br>接下来n行，每行输入一个整数，第i+1行的整数代表$a_i$。<br>输出格式<br>第一行输出最少操作次数。<br>第二行输出最终能得到多少种结果。<br>数据范围<br>$0&lt;n≤10^5,<br>0≤a_i&lt;2147483648$</p>
</blockquote>
<p>思路:差分。<br>如果把原序列a转化为差分序列b，那么$b_1$等于某个值，$b_2,b_3…,b_n$等于0，整个原序列就是都等于$b_1$的相等序列了。 我们选取下标为i,j种的两个数一个加1一个减1 。为保证操作次数最少我们先选取2~n之间的数，我们选取一个正数，一个负数，整数加负数减，这样一定是最优的。设2~n正数和负数的绝对值分别是q,p，操作的次数就是min(p,q)，之后2~n就只剩下整数或负数了，之后我们选取第1和负数的下标j，然后需要再操作max(p,q)-min(p,q),所以一共的操作次数就是max(p,q)，对下标1操作了max(p,q)-min(p,q)次，加上原本的$b_1$就max(p,q)-min(p,q)种可能。<br>代码里实际只求了差分序列，但答案考察了差分应用的思想。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100010</span>],d[<span class="number">100010</span>];</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p=<span class="number">0</span>,q=<span class="number">0</span>,n,x;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        d[i]=a[i]-a[i<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">if</span>(i!=<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(d[i]&gt;<span class="number">0</span>) q+=d[i];</span><br><span class="line">            <span class="keyword">else</span> p-=d[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;max(q,p)&lt;&lt;<span class="string">'\n'</span>&lt;&lt;<span class="built_in">abs</span>(p-q)+<span class="number">1</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="最高的牛"><a href="#最高的牛" class="headerlink" title="最高的牛"></a><a href="https://www.acwing.com/problem/content/103/" target="_blank" rel="noopener">最高的牛</a></h3><blockquote>
<p>有 N 头牛站成一行，被编队为$1、2、3…N，$每头牛的身高都为整数。<br>当且仅当两头牛中间的牛身高都比它们矮时，两头牛方可看到对方。<br>现在，我们只知道其中最高的牛是第 P 头，它的身高是 H ，剩余牛的身高未知。<br>但是，我们还知道这群牛之中存在着 M 对关系，每对关系都指明了某两头牛 A 和 B 可以相互看见。<br>求每头牛的身高的最大可能值是多少。<br>输入格式<br>第一行输入整数$N,P,H,M,$数据用空格隔开。<br>接下来M行，每行输出两个整数A和B，代表牛A和牛B可以相互看见，数据用空格隔开。<br>输出格式<br>一共输出N行数据，每行输出一个整数。<br>第i行输出的整数代表第i头牛可能的最大身高。<br>数据范围<br>$1≤N≤10000,<br>1≤H≤1000000,<br>1≤A,B≤10000,<br>0≤M≤10000$</p>
</blockquote>
<p>思路:<br>差分贪心。首先我们以h作为偏移量，构造出一个初始值都为0的差分序列，表示所有牛都一样高的相对值，每次出现一列数据A,B，就表示A~B之间的牛比A,B矮了一个单位，所以就让它们都降1:d[A+1]-1,d[B]+=1. 由于我们求出来的差分序列都是相对值最后加上h，这样就是所有牛尽量高的最优答案。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10001</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; ,<span class="keyword">bool</span>&gt; mmp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,p,h,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;p&gt;&gt;h&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> l,r;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;l&gt;&gt;r;</span><br><span class="line">        <span class="keyword">if</span>(l&gt;r) swap(l,r);</span><br><span class="line">        <span class="keyword">if</span>(mmp.count(make_pair(l,r))) <span class="keyword">continue</span>;</span><br><span class="line">        mmp[make_pair(l,r)]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(r-l==<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> a[l+<span class="number">1</span>]-=<span class="number">1</span>,a[r]+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        a[i]+=a[i<span class="number">-1</span>];</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a[i]+h&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="电影"><a href="#电影" class="headerlink" title="电影"></a><a href="https://www.acwing.com/problem/content/description/105/" target="_blank" rel="noopener">电影</a></h3><blockquote>
<p>莫斯科正在举办一个大型国际会议，有n个来自不同国家的科学家参会。<br>每个科学家都只懂得一种语言。<br>为了方便起见，我们把世界上的所有语言用1到$10^9$之间的整数编号。<br>在会议结束后，所有的科学家决定一起去看场电影放松一下。<br>他们去的电影院里一共有m部电影正在上映，每部电影的语音和字幕都采用不同的语言。<br>对于观影的科学家来说，如果能听懂电影的语音，他就会很开心；如果能看懂字幕，他就会比较开心；如果全都不懂，他就会不开心。<br>现在科学家们决定大家看同一场电影。<br>请你帮忙选择一部电影，可以让观影很开心的人最多。<br>如果有多部电影满足条件，则在这些电影中挑选观影比较开心的人最多的那一部。<br>输入格式<br>第一行输入一个整数n，代表科学家的数量。<br>第二行输入n个整数$a1,a2…an$,其中ai表示第i个科学家懂得的语言的编号。<br>第三行输入一个整数m，代表电影的数量。<br>第四行输入m个整数$b1,b2…bm$,其中bi表示第i部电影的语音采用的语言的编号。<br>第五行输入m个整数$c1,c2…cm$,其中ci表示第i部电影的字幕采用的语言的编号。<br>请注意对于同一部电影来说，$bi≠ci$。<br>同一行内数字用空格隔开。<br>输出格式<br>输出一个整数，代表最终选择的电影的编号。<br>如果答案不唯一，输出任意一个均可。<br>数据范围<br>$1≤n,m≤200000,<br>1≤a_i,b_i,c_i≤10^9$</p>
</blockquote>
<p>思路:离散哈希。这道题考察离散，由于$c_i$非常大，数组记录不了所有需要离散。用map更方便。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> p[<span class="number">200001</span>*<span class="number">3</span>],peo[<span class="number">200001</span>],sum[<span class="number">200001</span>*<span class="number">3</span>];</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">200001</span>*<span class="number">3</span>],cnt1,cnt2;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ac</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">&#125;mo[<span class="number">200001</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">discreate</span><span class="params">()</span></span>&#123;</span><br><span class="line">    sort(p+<span class="number">1</span>,p+cnt1+<span class="number">1</span>);</span><br><span class="line">    cnt2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=cnt1;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i==<span class="number">1</span>||p[i]!=p[i<span class="number">-1</span>])</span><br><span class="line">            num[++cnt2]=p[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cnt2=unique(p+1,p+cnt1+1)-p; //stl函数也可以</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> lower_bound(num+<span class="number">1</span>,num+<span class="number">1</span>+cnt2,x)-num;</span><br><span class="line">    <span class="comment">//return lower_bound(p+1,p+1+cnt2,x)-p;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    cnt1=cnt2=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;peo[i];</span><br><span class="line">        p[++cnt1]=peo[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;mo[i].a;</span><br><span class="line">        p[++cnt1]=mo[i].a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;mo[i].b;</span><br><span class="line">        p[++cnt1]=mo[i].b;</span><br><span class="line">    &#125;</span><br><span class="line">    discreate();</span><br><span class="line">    <span class="keyword">int</span> ans,Maxa=<span class="number">0</span>,Maxb=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> x=query(peo[i]);</span><br><span class="line">        sum[x]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> na=query(mo[i].a),nb=query(mo[i].b);</span><br><span class="line">        <span class="keyword">if</span>(sum[na]&gt;Maxa)&#123;</span><br><span class="line">            ans=i;</span><br><span class="line">            Maxa=sum[na];</span><br><span class="line">            Maxb=sum[nb];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sum[na]==Maxa&amp;&amp;sum[nb]&gt;Maxb)&#123;</span><br><span class="line">            ans=i;</span><br><span class="line">            Maxb=sum[nb];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="0x04二分"><a href="#0x04二分" class="headerlink" title="0x04二分"></a>0x04二分</h2><h3 id="最佳牛围栏"><a href="#最佳牛围栏" class="headerlink" title="最佳牛围栏"></a><a href="https://www.acwing.com/problem/content/104/" target="_blank" rel="noopener">最佳牛围栏</a></h3><blockquote>
<p>农夫约翰的农场由 N 块田地组成，每块地里都有一定数量的牛,其数量不会少于1头，也不会超过2000头。<br>约翰希望用围栏将一部分连续的田地围起来，并使得围起来的区域内每块地包含的牛的数量的平均值达到最大。<br>围起区域内至少需要包含 F 块地，其中 F 会在输入中给出。<br>在给定条件下，计算围起区域内每块地包含的牛的数量的平均值可能的最大值是多少。<br>输入格式<br>第一行输入整数 N 和 F ，数据间用空格隔开。<br>接下来 N 行，每行输出一个整数，第i+1行输出的整数代表，第i片区域内包含的牛的数目。<br>输出格式<br>输出一个整数，表示平均值的最大值乘以1000再 向下取整 之后得到的结果。<br>数据范围<br>$1≤N≤100000<br>1≤F≤N$</p>
</blockquote>
<p>思路：二分。由于求最大的平均值，我们可以想到二分，最大平均值是有单调性的(其实我一开始想的是三分枚举长度，后来发现也会有多峰函数的可能，卒…)。二分枚举最大平均值mid,然后在check函数中求是否存在一段长度大于等于f的区间平均值大于等于mid。(到这一步没思路了)我们把所有点减去mid，check就转化为是否存在一段长度大于等于f的区间之和大于0，问题又等价于是否存在一段长度大于等于f的区间的最大值是否大于0，这个值可以用dp求：当前点的前缀和减去预存前f长度前缀和的最小值就是以当前点为右端点长度大于等于f的区间最大和。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">double</span> a[<span class="number">100001</span>],sum[<span class="number">100001</span>],dp[<span class="number">100001</span>];</span><br><span class="line"><span class="keyword">int</span> n,f;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">double</span> m)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        sum[i]=a[i]-m+sum[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> ans=<span class="number">-1e6</span>,t=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=f;i&lt;=n;++i)&#123;</span><br><span class="line">        dp[i]=max(ans,sum[i]-t);</span><br><span class="line">        t=min(t,sum[i-f+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=f;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dp[i]&gt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;f;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> l=<span class="number">-1e6</span>,r=<span class="number">1e6</span>,ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">200</span>;++i)&#123;</span><br><span class="line">        <span class="keyword">double</span> m=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(m)) &#123;</span><br><span class="line">            ans=m;</span><br><span class="line">            l=m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> r=m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;(<span class="keyword">int</span>)((ans+<span class="number">1e-6</span>)*<span class="number">1000</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="赶牛入圈"><a href="#赶牛入圈" class="headerlink" title="赶牛入圈"></a><a href="https://www.acwing.com/problem/content/description/123/" target="_blank" rel="noopener">赶牛入圈</a></h3><blockquote>
<p>农夫约翰希望为他的奶牛们建立一个畜栏。<br>这些挑剔的畜生要求畜栏必须是正方形的，而且至少要包含C单位的三叶草，来当做它们的下午茶。<br>畜栏的边缘必须与X，Y轴平行。<br>约翰的土地里一共包含N单位的三叶草，每单位三叶草位于一个1 x 1的土地区域内，区域位置由其左下角坐标表示，并且区域左下角的X,Y坐标都为整数，范围在1到10000以内。<br>多个单位的三叶草可能会位于同一个1 x 1的区域内，因为这个原因，在接下来的输入中，同一个区域坐标可能出现多次。<br>只有一个区域完全位于修好的畜栏之中，才认为这个区域内的三叶草在畜栏之中。<br>请你帮约翰计算一下，能包含至少C单位面积三叶草的情况下，畜栏的最小边长是多少。<br>输入格式<br>第一行输入两个整数 C 和 N。<br>接下来 N 行，每行输入两个整数 X 和 Y，代表三叶草所在的区域的X,Y坐标。<br>同一行数据用空格隔开。<br>输出格式<br>输出一个整数，代表畜栏的最小边长。<br>数据范围<br>$1≤C≤500,<br>C≤N≤500$</p>
</blockquote>
<p>思路：二分双指针。二分枚举边长比较好想，check函数判断是否存在边长L的正方形内大于c的点，由于数据并不大，可以通过遍历长度为L横坐标区间，将在这一区间内的草的y坐标统计下来，利用双指针记录包含c个点的最小y距离是否小于等于L。<br>(题解是差分，点坐标差分感觉很难啊…)<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">&#125;p[<span class="number">501</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node n1,node n2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n1.x&lt;n2.x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n,c;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">501</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i+c<span class="number">-1</span>&gt;n) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p[j].x+<span class="number">1</span>-p[i].x&lt;=len) tmp[++cnt]=p[j].y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt&lt;c) <span class="keyword">continue</span>;</span><br><span class="line">        sort(tmp+<span class="number">1</span>,tmp+<span class="number">1</span>+cnt);</span><br><span class="line">        <span class="keyword">int</span> l=<span class="number">1</span>,r=c,ans=<span class="number">10000</span>;</span><br><span class="line">        <span class="keyword">while</span>(r&lt;=cnt)&#123;</span><br><span class="line">            ans=min(ans,tmp[r]+<span class="number">1</span>-tmp[l]);</span><br><span class="line">            ++r;</span><br><span class="line">            ++l;</span><br><span class="line">            <span class="keyword">if</span>(ans&lt;=len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;c&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;p[i].x&gt;&gt;p[i].y;</span><br><span class="line">    sort(p+<span class="number">1</span>,p+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(mid))&#123;</span><br><span class="line">            r=mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;l&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="防线"><a href="#防线" class="headerlink" title="防线"></a><a href="https://www.acwing.com/problem/content/description/122/" target="_blank" rel="noopener">防线</a></h3><blockquote>
<p>达达学习数学竞赛的时候受尽了同仁们的鄙视，终于有一天……受尽屈辱的达达黑化成为了黑暗英雄怪兽达达。<br>就如同中二漫画的情节一样，怪兽达达打算毁掉这个世界。<br>数学竞赛界的精英 lqr 打算阻止怪兽达达的阴谋，于是她集合了一支由数学竞赛选手组成的超级行动队。<br>由于队员们个个都智商超群，很快，行动队便来到了怪兽达达的黑暗城堡的下方。<br>但是，同样强大的怪兽达达在城堡周围布置了一条“不可越过”的坚固防线。<br>防线由很多防具组成，这些防具分成了N组。<br>我们可以认为防线是一维的，那么每一组防具都分布在防线的某一段上，并且同一组防具是等距离排列的。<br>也就是说，我们可以用三个整数 S， E 和 D 来描述一组防具，即这一组防具布置在防线的 $S，S + D，S + 2D，…，S + KD(K∈ Z，S + KD≤E，S + (K + 1)D&gt;E)$位置上。<br>黑化的怪兽达达设计的防线极其精良。如果防线的某个位置有偶数个防具，那么这个位置就是毫无破绽的(包括这个位置一个防具也没有的情况，因为 0 也是偶数)。<br>只有有奇数个防具的位置有破绽，但是整条防线上也最多只有一个位置有奇数个防具。<br>作为行动队的队长，lqr 要找到防线的破绽以策划下一步的行动。<br>但是，由于防具的数量太多，她实在是不能看出哪里有破绽。作为 lqr 可以信任的学弟学妹们，你们要帮助她解决这个问题。<br>输入格式<br>输入文件的第一行是一个整数T，表示有T 组互相独立的测试数据。<br>每组数据的第一行是一个整数N。<br>之后N行，每行三个整数$Si，Ei，Di$，代表第 i 组防具的三个参数,数据用空格隔开。<br>输出格式<br>对于每组测试数据，如果防线没有破绽，即所有的位置都有偶数个防具，输出一行 “There’s no weakness.”(不包含引号) 。<br>否则在一行内输出两个空格分隔的整数P和 C，表示在位置P有C个防具。当然C应该是一个奇数。<br>数据范围<br>防具总数不多于108,<br>$Si≤Ei,<br>1≤T≤5,<br>N≤200000,<br>0≤Si，Ei，D_i≤2$<sup>31</sup>$−1$</p>
</blockquote>
<p>思路：<br>由于本题保证最多只有一个点有奇数个防具，那么就很容易想到奇数加偶数等于奇数。如果一个点是奇数点，那么从该点包括改点以后的前缀和都是奇数，所以奇数点位是具有单调性的，那么二分枚举奇数点位。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> s[<span class="number">200010</span>],e[<span class="number">200010</span>],d[<span class="number">200010</span>],Ml,Mr,n;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">calc</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> ed)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> sum=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s[i]&lt;=ed)&#123;</span><br><span class="line">			sum+=(min(ed,e[i])-s[i])/d[i]+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> st,<span class="keyword">int</span> ed)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> sum1=calc(st<span class="number">-1</span>),sum2=calc(ed);</span><br><span class="line">	<span class="keyword">return</span> (sum2-sum1)%<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> T;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">	<span class="keyword">while</span>(T--)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">		Ml=<span class="number">100000000000000</span>,Mr=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">			<span class="built_in">cin</span>&gt;&gt;s[i]&gt;&gt;e[i]&gt;&gt;d[i];</span><br><span class="line">			Ml=min(Ml,s[i]);</span><br><span class="line">			Mr=max(Mr,e[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!check(Ml,Mr))&#123;</span><br><span class="line">			<span class="built_in">puts</span>(<span class="string">"There's no weakness."</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l=Ml,r=Mr;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(check(Ml,mid))&#123;</span><br><span class="line">				r=mid<span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;l&lt;&lt;<span class="string">" "</span>&lt;&lt;calc(l)-calc(l<span class="number">-1</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="0x05-排序"><a href="#0x05-排序" class="headerlink" title="0x05 排序"></a>0x05 排序</h2><h3 id="中位数"><a href="#中位数" class="headerlink" title="中位数"></a>中位数</h3><h4 id="货仓选址"><a href="#货仓选址" class="headerlink" title="货仓选址"></a><a href="https://www.acwing.com/problem/content/106/" target="_blank" rel="noopener">货仓选址</a></h4><blockquote>
<p>在一条数轴上有 N 家商店，它们的坐标分别为 A1~AN。<br>现在需要在数轴上建立一家货仓，每天清晨，从货仓到每家商店都要运送一车商品。<br>为了提高效率，求把货仓建在何处，可以使得货仓到每家商店的距离之和最小。<br>输入格式<br>第一行输入整数N。<br>第二行N个整数$A_1~A_N$。<br>输出格式<br>输出一个整数，表示距离之和的最小值。<br>数据范围<br>$1≤N≤100000$</p>
</blockquote>
<p>思路：中位数思想的第一道题。<br>答案即求x取何值$|A_1-A_x|+|A_2-A_x|+…+|A_N-A_x|$最小。<br>首先我们将$A_1~A_N$从小到大排个序，设仓库选在x位置，x左边有q家，右边有p家。那么当仓库位置x+1即向右移动1个单位，距离之和d变为d+q-p，同理向左移动d变为d+p-q，当p=q时为最优解，即x在中间位置。因此应选择中位数的为仓库，当N为偶数时N/2,N/2+1都是正确答案，N为奇数时N/2是正确答案。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100001</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">int</span> t=a[n/<span class="number">2</span>+<span class="number">1</span>],res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        res+=<span class="built_in">abs</span>(a[i]-t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="糖果传递"><a href="#糖果传递" class="headerlink" title="糖果传递"></a><a href="https://www.acwing.com/problem/content/description/124/" target="_blank" rel="noopener">糖果传递</a></h4><blockquote>
<p>有n个小朋友坐成一圈，每人有a[i]个糖果。<br>每人只能给左右两人传递糖果。<br>每人每次传递一个糖果代价为1。<br>求使所有人获得均等糖果的最小代价。<br>输入格式<br>第一行输入一个正整数n，表示小朋友的个数。<br>接下来n行，每行一个整数$a[i]$，表示第i个小朋友初始得到的糖果的颗数。<br>输出格式<br>输出一个整数，表示最小代价。<br>数据范围<br>$1≤n≤1000000$<br>数据保证一定有解。</p>
</blockquote>
<p>思路：<br>中位数，纸牌均分。<br><a href="https://www.luogu.com.cn/problem/P1031" target="_blank" rel="noopener">纸牌均分</a>：有N对纸牌水平排列，相邻纸牌可以做交换，一次只能交换一张纸牌，求使每一堆纸牌数相等的最少交换次数。<br>我们先把所有堆都减去平均值$A_i=a_i-avg$第一次1和2交换我们只能在通过使得1的个数达到平均，答案就是$|A_1|$,第二次2和3交换，我们需保证1和2的个数达到平均值那么答案就是$|A_1+A_2|$,后面的同理。那么总答案就是$|A_1|$+$|A_1+A_2|+…+|A_1+A_2+…+A$<sub>n</sub>| ，第n项一定是0嘛。设$S$为A的前缀和，答案也可以是$|S_1|+|S_2|+…+|S_n|$。<br>再回到这道题上，可以发现这是一个环形的纸牌均分问题，也一定存在环上某两个相邻的人不发生交换的情况。那么我们只需要找到一个线性的均分方法使得水平均分纸牌的答案最小。假设我们选取k号位置为最后一个点。答案就变为:$|S$<sub>k+1</sub>$-S_k|+|S$<sub>k+2</sub>$-S_k|+…+|S_n-S_k|+|S_1-S_k|+…+|S_k+S_n-S_k|$。S_n等于0。那么答案就是$|S_i-S_k|$之和，这和的货仓选址问题的形式一摸一样，就是选取$S_k$到所有$S_i$的距离之和最小，$S_k$就是中位数了。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">1000001</span>],s[<span class="number">1000001</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,sum=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">        sum+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> avg=sum/n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        s[i]=s[i<span class="number">-1</span>]+a[i]-avg;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(s+<span class="number">1</span>,s+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mid=s[n/<span class="number">2</span>+<span class="number">1</span>],res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        res+=<span class="built_in">abs</span>(mid-s[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;res&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="七夕祭"><a href="#七夕祭" class="headerlink" title="七夕祭"></a><a href="https://www.acwing.com/problem/content/107/" target="_blank" rel="noopener">七夕祭</a></h4><p>思路:<br>行列向做两次糖果传递，因为只能和上下左右相邻的摊位交换，行列方向的划分时独立的。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">100010</span>],b[<span class="number">100010</span>],s[<span class="number">100010</span>];</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">long</span> <span class="keyword">long</span> *arr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        sum+=arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum%n!=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> avg=sum/n,res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        s[i]=s[i<span class="number">-1</span>]+arr[i]-avg;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(s+<span class="number">1</span>,s+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> mid=s[n/<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        res+=<span class="built_in">abs</span>(s[i]-mid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,t,x,y;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;t;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        a[x]++;b[y]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res1=solve(n,a);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res2=solve(m,b);</span><br><span class="line">    <span class="keyword">if</span>(res1!=<span class="number">-1</span>&amp;&amp;res2!=<span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"both %lld\n"</span>,res1+res2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(res1!=<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"row %d\n"</span>,res1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(res2!=<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"column %d\n"</span>,res2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">"impossible"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="士兵"><a href="#士兵" class="headerlink" title="士兵"></a><a href="https://www.acwing.com/problem/content/125/" target="_blank" rel="noopener">士兵</a></h4><blockquote>
<p>格格兰郡的N名士兵随机散落在全郡各地。<br>格格兰郡中的位置由一对(x,y)整数坐标表示。<br>士兵可以进行移动，每次移动，一名士兵可以向上，向下，向左或向右移动一个单位（因此，他的x或y坐标也将加1或减1）。<br>现在希望通过移动士兵，使得所有士兵彼此相邻的处于同一条水平线内，即所有士兵的y坐标相同并且x坐标相邻。<br>请你计算满足要求的情况下，所有士兵的总移动次数最少是多少。<br>需注意，两个或多个士兵不能占据同一个位置。<br>输入格式<br>第一行输入整数N，代表士兵的数量。<br>接下来的N行，每行输入两个整数x和y，分别代表一个士兵所在位置的x坐标和y坐标，第i行即为第i个士兵的坐标(x[i],y[i])。<br>输出格式<br>输出一个整数，代表所有士兵的总移动次数的最小值。<br>数据范围<br>$1≤N≤10000,<br>−10000≤x[i],y[i]≤10000$</p>
</blockquote>
<p>思路：<br>在y方向上就是中位数思想。x方向上可以这样转化为中位数思想:最终状态下，每个人与第一个人左边1的位置的距离从左到右依次差1，2…,n，这个移动的消耗是固定的，那么把每个人的这个消耗减去，问题就转化成了所有人到同一个位置的最少消耗，那就是中位数了！<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> x[<span class="number">10001</span>],y[<span class="number">10001</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x[i];<span class="built_in">cin</span>&gt;&gt;y[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(y+<span class="number">1</span>,y+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">int</span> mid=y[n/<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        ans+=<span class="built_in">abs</span>(mid-y[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(x+<span class="number">1</span>,x+<span class="number">1</span>+n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        x[i]-=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(x+<span class="number">1</span>,x+<span class="number">1</span>+n);</span><br><span class="line">    mid=x[n/<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        ans+=<span class="built_in">abs</span>(mid-x[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="动态中位数"><a href="#动态中位数" class="headerlink" title="动态中位数"></a>动态中位数</h4><p>题目大意:<br>动态维护当前序列中的中位数。<br>思路：<br>用两个堆维护，大根堆维护中位数前的数，小根堆位数中位数后以及中位数。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>&gt; Min,Max;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> cas=<span class="number">1</span>;cas&lt;=T;++cas)&#123;</span><br><span class="line">        ans.clear();</span><br><span class="line">        <span class="keyword">while</span>(!Min.empty())&#123;</span><br><span class="line">            Min.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!Max.empty())&#123;</span><br><span class="line">            Max.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> id,m,x;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;id&gt;&gt;m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">            <span class="keyword">if</span>(i==<span class="number">1</span>)&#123;</span><br><span class="line">                Min.push(-x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(x&gt;-Min.top())&#123;</span><br><span class="line">                    <span class="keyword">int</span> t=-Min.top();</span><br><span class="line">                    Min.pop();</span><br><span class="line">                    Max.push(t);</span><br><span class="line">                    Min.push(-x);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> Max.push(x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i%<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(x&lt;Max.top())&#123;</span><br><span class="line">                    <span class="keyword">int</span> t=Max.top();</span><br><span class="line">                    Max.pop();</span><br><span class="line">                    Max.push(x);</span><br><span class="line">                    Min.push(-t);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> Min.push(-x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(x&gt;-Min.top())&#123;</span><br><span class="line">                    <span class="keyword">int</span> t=-Min.top();</span><br><span class="line">                    Min.pop();</span><br><span class="line">                    Min.push(-x);</span><br><span class="line">                    Max.push(t);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> Max.push(x);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span>)</span><br><span class="line">                ans.push_back(-Min.top());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;id&lt;&lt;<span class="string">" "</span>&lt;&lt;ans.size()&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">        <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ans.size();++i)&#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span>(cnt==<span class="number">10</span>||i==ans.size()<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;ans[i]&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">                cnt=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cnt!=<span class="number">10</span>)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ans[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="超快速排序"><a href="#超快速排序" class="headerlink" title="超快速排序"></a><a href="https://www.acwing.com/problem/content/109/" target="_blank" rel="noopener">超快速排序</a></h3><p>题目大意：<br>求对一个序列进行冒泡排序的最少交换次数。$0≤N&lt;500000$<br>思路：<br>如果直接冒泡排序记录交换次数肯定超时。冒泡排序的最少交换次数等于逆序数对数。例如：$2,4,1,3$ 在第三个数时我们需要交换的次数是2，之后序列变为：$1,2,4,3$，第四个数时需要交换的次数是1.我们发现从前往后维护一个有序序列第i位，那么1~i-1前都是有序的，交换的次数就是1~i-1比第i位数大的数，那么就是逆序数了。<br>分治法求逆序数。<br>代码：<br><a href="https://paste.ubuntu.com/p/vymXGsvv2S/" target="_blank" rel="noopener">https://paste.ubuntu.com/p/vymXGsvv2S/</a></p>
<h3 id="奇数码问题"><a href="#奇数码问题" class="headerlink" title="奇数码问题"></a><a href="https://www.acwing.com/problem/content/110/" target="_blank" rel="noopener">奇数码问题</a></h3><p>思路：我们可以很容易看出来一个八数码左右移动空格逆序对数不变，上下移动逆序对数±2.推广到N阶两个奇数码可达的条件就是逆序对数奇偶性相同。<br>（N阶偶数码可达的条件是逆序对数之差与空格行数之差奇偶性相同）<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">510</span>;</span><br><span class="line"><span class="keyword">int</span> a[N*N],tmp[N*N];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">int</span> i=l,mid=(l+r)/<span class="number">2</span>;<span class="keyword">int</span> j=mid+<span class="number">1</span>,cnt=l;</span><br><span class="line">    solve(l,mid);solve(mid+<span class="number">1</span>,r);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;=a[j])&#123;</span><br><span class="line">            tmp[cnt++]=a[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res+=mid-i+<span class="number">1</span>;</span><br><span class="line">            tmp[cnt++]=a[j];</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)&#123;</span><br><span class="line">        tmp[cnt++]=a[i];</span><br><span class="line">        ++i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=r)&#123;</span><br><span class="line">        tmp[cnt++]=a[j];</span><br><span class="line">        ++j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=l;i&lt;=r;++i)&#123;</span><br><span class="line">        a[i]=tmp[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="keyword">int</span> n1=<span class="number">0</span>,n2=<span class="number">0</span>,c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n*n;++i)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;c;</span><br><span class="line">            <span class="keyword">if</span>(c!=<span class="number">0</span>) a[++n1]=c;</span><br><span class="line">        &#125;</span><br><span class="line">        res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        solve(<span class="number">1</span>,n1);</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> cnt1=res;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n*n;++i)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;c;</span><br><span class="line">            <span class="keyword">if</span>(c!=<span class="number">0</span>) a[++n2]=c;</span><br><span class="line">        &#125;</span><br><span class="line">        res=<span class="number">0</span>;</span><br><span class="line">        solve(<span class="number">1</span>,n2);</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> cnt2=res;</span><br><span class="line">        <span class="keyword">if</span>((cnt1&amp;<span class="number">1</span>)==(cnt2&amp;<span class="number">1</span>)) <span class="built_in">cout</span>&lt;&lt;<span class="string">"TAK\n"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"NIE\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="0x06-贪心"><a href="#0x06-贪心" class="headerlink" title="0x06 贪心"></a>0x06 贪心</h2><p><strong>1.微扰(邻项交换)<br>证明在任意局面下，任何对局部最优策略的微小改变都会造成整体结果变差。经常<br>用于以“排序”为贪心策略的证明。<br>2.范围缩放<br>证明任何对局部最优策略作用范围的扩展都不会造成整体结果变差。<br>3.决策包容性<br>证明在任意局面下，作出局部最优决策以后,在问题状态空间中的可达集合包含了<br>作出其他任何决策后的可达集合。换言之,这个局部最优策略提供的可能性包含其他所<br>有策略提供的可能性。<br>4.反证法<br>5.数学归纳法</strong></p>
<h3 id="防晒"><a href="#防晒" class="headerlink" title="防晒"></a><a href="https://www.acwing.com/problem/content/112/" target="_blank" rel="noopener">防晒</a></h3><blockquote>
<p>有C头奶牛进行日光浴，第i头奶牛需要minSPF[i]到maxSPF[i]单位强度之间的阳光。<br>每头奶牛在日光浴前必须涂防晒霜，防晒霜有L种，涂上第i种之后，身体接收到的阳光强度就会稳定为SPF[i]，第i种防晒霜有cover[i]瓶。<br>求最多可以满足多少头奶牛进行日光浴。<br>输入格式<br>第一行输入整数C和L。<br>接下来的C行，按次序每行输入一头牛的minSPF和maxSPF值,即第i行输入minSPF[i]和maxSPF[i]。<br>再接下来的L行，按次序每行输入一种防晒霜的SPF和cover值,即第i行输入SPF[i]和cover[i]。<br>每行的数据之间用空格隔开。<br>输出格式<br>输出一个整数，代表最多可以满足奶牛日光浴的奶牛数目。<br>数据范围<br>$1≤C,L≤2500,<br>1≤minSPF≤maxSPF≤1000,<br>1≤SPF≤1000$  </p>
</blockquote>
<p>思路：<br>贪心。我们按左端点给牛升序排序，从左端点最大的牛开始遍历，如果有两个防晒霜x,y（x&lt;=y）都包含在了当前区间内，那么对于后面的牛，<br>【1.包含了x,y，2.只包含了x，3.都没有包含】。不存在只包含了y而不包含x的可能。在当前区间应该优先选择y，由于所有的点对答案的贡献都为1，所以在当前这头牛选择这个点不会对最优答案有影响。所有对防晒霜从大到小开始遍历。对称方法：按右端点从小到大排序，从左往右扫描点也是可以（可以注意到两个方法都把下一区间的排序端点固定到了当前区间之外）。复杂度$O(n*m)$<br><img src="/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/cow.png" alt></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">3000</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cow</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">&#125;a[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">milk</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> c,s;</span><br><span class="line">&#125;b[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpa</span><span class="params">(cow c1,cow c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c1.l&gt;c2.l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpb</span><span class="params">(milk c1,milk c2)</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> c1.c&lt;c2.c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mmp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i].l&gt;&gt;a[i].r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> t1,t2,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;t1&gt;&gt;t2;</span><br><span class="line">        <span class="keyword">if</span>(mmp[t1]==<span class="number">0</span>)&#123;</span><br><span class="line">            mmp[t1]=++cnt;</span><br><span class="line">            b[cnt]=(milk)&#123;t1,t2&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> b[mmp[t1]].s+=t2;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n,cmpa);</span><br><span class="line">    sort(b+<span class="number">1</span>,b+<span class="number">1</span>+m,cmpb);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=<span class="number">1</span>;--j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(b[j].s&gt;<span class="number">0</span>&amp;&amp;a[i].l&lt;=b[j].c&amp;&amp;b[j].c&lt;=a[i].r)&#123;</span><br><span class="line">                b[j].s--;</span><br><span class="line">                ans++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>利用堆的贪心思路。将牛以左端点为第一关键字右端点为第二关键字降序排序，防晒霜降序排序，从左向右遍历防晒霜，对于左端点在当前点左边入队，右端点不在当前点右边的出队。队列中得到在包含点内的牛，对于每个点让右端点小的尽量得到防晒霜，因为右端点小的更有可能在遍历下一防晒霜时出队。做法和这道题非常相似：<a href="https://blog.csdn.net/weixin_43769146/article/details/104059262" target="_blank" rel="noopener">羊吃草</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">3000</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cow</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r;</span><br><span class="line">&#125;a[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">milk</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> c,s;</span><br><span class="line">&#125;b[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpa</span><span class="params">(cow c1,cow c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(c1.l==c2.l) <span class="keyword">return</span> c1.r&lt;c2.r;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> c1.l&lt;c2.l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmpb</span><span class="params">(milk c1,milk c2)</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> c1.c&lt;c2.c;</span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ,greater&lt;<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i].l&gt;&gt;a[i].r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;b[i].c&gt;&gt;b[i].s;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n,cmpa);</span><br><span class="line">    sort(b+<span class="number">1</span>,b+<span class="number">1</span>+m,cmpb);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,j=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;=n&amp;&amp;a[j].l&lt;=b[i].c)</span><br><span class="line">            q.push(a[j].r),++j;</span><br><span class="line">        <span class="keyword">while</span>(!q.empty()&amp;&amp;q.top()&lt;b[i].c)</span><br><span class="line">            q.pop();</span><br><span class="line">        <span class="keyword">while</span>(!q.empty()&amp;&amp;b[i].s&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            b[i].s--;</span><br><span class="line">            ++ans;</span><br><span class="line">            q.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="畜栏预约"><a href="#畜栏预约" class="headerlink" title="畜栏预约"></a><a href="https://www.acwing.com/problem/content/description/113/" target="_blank" rel="noopener">畜栏预约</a></h3><blockquote>
<p>有N头牛在畜栏中吃草。<br>每个畜栏在同一时间段只能提供给一头牛吃草，所以可能会需要多个畜栏。<br>给定N头牛和每头牛开始吃草的时间A以及结束吃草的时间B，每头牛在[A,B]这一时间段内都会一直吃草。<br>当两头牛的吃草区间存在交集时（包括端点），这两头牛不能被安排在同一个畜栏吃草。<br>求需要的最小畜栏数目和每头牛对应的畜栏方案。<br>输入格式<br>第1行：输入一个整数N。<br>第2..N+1行：第i+1行输入第i头牛的开始吃草时间A以及结束吃草时间B，数之间用空格隔开。<br>输出格式<br>第1行：输入一个整数，代表所需最小畜栏数。<br>第2..N+1行：第i+1行输入第i头牛被安排到的畜栏编号，编号是从1开始的 连续 整数，只要方案合法即可。<br>数据范围<br>$1≤N≤50000,<br>1≤A,B≤1000000$</p>
</blockquote>
<p>思路：贪心。按左端点降序排序，如果堆非空且堆顶牛的右端点小于当前牛的左端点，说明这头牛可以接着用这个畜栏，让牛进入小根堆。否则增加畜栏数，让牛进入小根堆。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">priority_queue&lt;pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ac</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l,r,id;</span><br><span class="line">&#125;cow[<span class="number">50010</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ac c1,ac c2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c1.l&lt;c2.l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> pos[<span class="number">50010</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;cow[i].l&gt;&gt;cow[i].r;</span><br><span class="line">        cow[i].id=i;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(cow+<span class="number">1</span>,cow+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!q.empty()&amp;&amp;-q.top().first&lt;cow[i].l)&#123;</span><br><span class="line">            pos[cow[i].id]=pos[q.top().second];</span><br><span class="line">            q.pop();</span><br><span class="line">            q.push(&#123;-cow[i].r,cow[i].id&#125;);</span><br><span class="line">           <span class="comment">// cout&lt;&lt;"in"&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            q.push(&#123;-cow[i].r,cow[i].id&#125;);</span><br><span class="line">            pos[cow[i].id]=++ans;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;pos[i]&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="雷达设备"><a href="#雷达设备" class="headerlink" title="雷达设备"></a><a href="https://www.acwing.com/problem/content/114/" target="_blank" rel="noopener">雷达设备</a></h3><blockquote>
<p>假设海岸是一条无限长的直线，陆地位于海岸的一侧，海洋位于另外一侧。<br>每个小岛都位于海洋一侧的某个点上。<br>雷达装置均位于海岸线上，且雷达的监测范围为d，当小岛与某雷达的距离不超过d时，该小岛可以被雷达覆盖。<br>我们使用笛卡尔坐标系，定义海岸线为x轴，海的一侧在x轴上方，陆地一侧在x轴下方。<br>现在给出每个小岛的具体坐标以及雷达的检测范围，请你求出能够使所有小岛都被雷达覆盖所需的最小雷达数目。<br>输入格式<br>第一行输入两个整数n和d，分别代表小岛数目和雷达检测范围。<br>接下来n行，每行输入两个整数，分别代表小岛的x，y轴坐标。<br>同一行数据之间用空格隔开。<br>输出格式<br>输出一个整数，代表所需的最小雷达数目，若没有解决方案则所需数目输出“-1”。<br>数据范围<br>1≤n≤1000</p>
</blockquote>
<p>思路：<br>贪心，几何。首先利用勾股定理求出能在给定的d下每个小岛能够被覆盖的x坐标范围，然后求出N个区间。贪心算出能包含这N个区间的最少点数，将每个点按右端点降序排序，第一个点的右端点（最小的右端点）位置时第一个雷达的位置，往后判断每个区间的左端点是否小于这个点，如果没有就设新的雷达在这个区间的右端点。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">1e-5</span>;</span><br><span class="line"><span class="keyword">double</span> x[<span class="number">1001</span>],y[<span class="number">1001</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ac</span>&#123;</span></span><br><span class="line">    <span class="keyword">double</span> l,r;</span><br><span class="line">&#125;seg[<span class="number">1001</span>];</span><br><span class="line"><span class="function">ac <span class="title">calc</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">double</span> d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> len=<span class="built_in">sqrt</span>(d*d-y[p]*y[p]);</span><br><span class="line">    <span class="keyword">return</span> (ac)&#123;x[p]-len,x[p]+len&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ac a1,ac a2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> eps&lt;a2.r-a1.r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,cnt=<span class="number">0</span>;<span class="keyword">double</span> d;<span class="keyword">bool</span> f=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;d;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;x[i]&gt;&gt;y[i];</span><br><span class="line">        <span class="keyword">if</span>(y[i]-d&gt;eps) f=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(f)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        seg[i]=calc(i,d);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(seg+<span class="number">1</span>,seg+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">double</span> now=seg[<span class="number">1</span>].r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(seg[i].l-now&gt;eps)&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            now=seg[i].r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a><a href="https://www.acwing.com/problem/content/description/129/" target="_blank" rel="noopener">任务</a></h3><blockquote>
<p>今天某公司有M个任务需要完成。<br>每个任务都有相应的难度级别和完成任务所需时间。<br>第i个任务的难度级别为yi，完成任务所需时间为xi分钟。<br>如果公司完成此任务，他们将获得（500 <em> xi + 2 </em> yi）美元收入。<br>该公司有N台机器，每台机器都有最长工作时间和级别。<br>如果任务所需时间超过机器的最长工作时间，则机器无法完成此任务。<br>如果任务难度级别超过机器的级别，则机器无法完成次任务。<br>每台机器一天内只能完成一项任务。<br>每个任务只能由一台机器完成。<br>请为他们设计一个任务分配方案，使得该公司能够最大化他们今天可以完成的任务数量。<br>如果有多种解决方案，他们希望选取赚取利润最高的那种。<br>输入格式<br>输入包含几个测试用例。<br>对于每个测试用例，第一行包含两个整数N和M，分别代表机器数量和任务数量。<br>接下来N行，每行包含两个整数xi,yi，分别代表机器最长工作时间和机器级别。<br>再接下来M行，每行包含两个整数xi,yi，分别代表完成任务所需时间和任务难度级别。<br>输出格式<br>对于每个测试用例，输出两个整数，代表公司今天可以完成的最大任务数以及他们将获得的收入。<br>数据范围<br>$1≤N,M≤100000,<br>0&lt;x_i&lt;1440,<br>0≤y_i≤100$</p>
</blockquote>
<p>思路：<br>贪心。我们发现对于每个任务收入中y最大的贡献也不过200，而x最小时都是1×500了。所以应优先完成x大的任务。我们将机器和任务都按x为第一关键字y为第二关键字排序，设置两个指针i,j都从大开始遍历，每次遍历一个任务，当机器的x大于等于任务的x的mulitset(mulitset可以二分查找)，所有符合的加入后，取出y大于等于且最接近当前任务的y的机器完成该任务，下次—i，mulitset里的机器都是大于上一任务的机器，由于排序也一定大于当前任务了。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">100010</span>;</span><br><span class="line">PII mec[maxn],task[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;mec[i].first&gt;&gt;mec[i].second;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;task[i].first&gt;&gt;task[i].second;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(mec+<span class="number">1</span>,mec+<span class="number">1</span>+n);</span><br><span class="line">        sort(task+<span class="number">1</span>,task+<span class="number">1</span>+m);</span><br><span class="line">        LL res=<span class="number">0</span>,cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; mss;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=m,j=n;i&gt;=<span class="number">1</span>;--i)&#123;</span><br><span class="line">            <span class="keyword">int</span> x=task[i].first,y=task[i].second;</span><br><span class="line">            <span class="keyword">while</span>(x&lt;=mec[j].first)&#123;</span><br><span class="line">                mss.insert(mec[j--].second);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">auto</span> it=mss.lower_bound(y);</span><br><span class="line">            <span class="keyword">if</span>(it!=mss.end())&#123;</span><br><span class="line">                res+=x*<span class="number">500</span>+y*<span class="number">2</span>;</span><br><span class="line">                cnt++;</span><br><span class="line">                mss.erase(it);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cnt&lt;&lt;<span class="string">' '</span>&lt;&lt;res&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="国王的游戏"><a href="#国王的游戏" class="headerlink" title="国王的游戏"></a><a href="https://www.acwing.com/problem/content/116/" target="_blank" rel="noopener">国王的游戏</a></h3><blockquote>
<p>恰逢 H 国国庆,国王邀请 n 位大臣来玩一个有奖游戏。<br>首先,他让每个大臣在左、右手上面分别写下一个整数,国王自己也在左、右手上各写一个整数。<br>然后,让这 n 位大臣排成一排,国王站在队伍的最前面。<br>排好队后,所有的大臣都会获得国王奖赏的若干金币,每位大臣获得的金币数分别是:<br>排在该大臣前面的所有人的左手上的数的乘积除以他自己右手上的数,然后向下取整得到的结果。<br>国王不希望某一个大臣获得特别多的奖赏,所以他想请你帮他重新安排一下队伍的顺序,使得获得奖赏最多的大臣,所获奖赏尽可能的少。<br>注意,国王的位置始终在队伍的最前面。<br>输入格式<br>第一行包含一个整数 n,表示大臣的人数。<br>第二行包含两个整数 a 和 b,之间用一个空格隔开,分别表示国王左手和右手上的整数。<br>接下来 n 行,每行包含两个整数 a 和 b,之间用一个空格隔开,分别表示每个大臣左手和右手上的整数。<br>输出格式<br>输出只有一行,包含一个整数,表示重新排列后的队伍中获奖赏最多的大臣所获得的金币数。<br>数据范围<br>$1≤n≤1000<br>0&lt;a,b&lt;10000$</p>
</blockquote>
<p>思路：<br>肯定是要排序，可以通过微调来想思路。<br>设有(1，2),(2,1)两种排队方式，<br>$(1,2)$ 答案有：$(a/b_1,(a*a1)/b_2)$；<br>$(2,1)$ 答案有：($a/b_2,(a*a_2)/b_1$).<br>首先可以得到：$a/b_1&lt;(a*a_1)/b_2，a/b_2&lt;(a*a_2)/b_1$,获得最多的只可能时$max((a*a_2)/b_1,(a*a_1)/b_2)$，设<br>$(a*a_1)/b_2&lt;(a*a_2)/b_1$ ，可得:<br>$a_1*b_1 &lt; a_2*b_2$，故按照(1,2)排列最优时:$a_1*b_1 &lt; a_2*b_2$。所以按照 $a*b$ 降序排序。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">N=int(input())</span><br><span class="line">s=input().split()</span><br><span class="line">S=int(s[<span class="number">0</span>])</span><br><span class="line">T=int(s[<span class="number">1</span>])</span><br><span class="line">a=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,N+<span class="number">1</span>):</span><br><span class="line">    k=input().split()</span><br><span class="line">    a.append((int(k[<span class="number">0</span>]),int(k[<span class="number">1</span>])))</span><br><span class="line">a.sort(key=<span class="keyword">lambda</span> x:x[<span class="number">0</span>]*x[<span class="number">1</span>])</span><br><span class="line">ans=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,N):</span><br><span class="line">    <span class="keyword">if</span>(S//(a[i])[<span class="number">1</span>]&gt;ans):</span><br><span class="line">        ans=S//(a[i])[<span class="number">1</span>]</span><br><span class="line">    S*=(a[i])[<span class="number">0</span>]</span><br><span class="line">print(ans)</span><br></pre></td></tr></table></figure><br>类似题目： </p>
<h4 id="耍杂技的牛"><a href="#耍杂技的牛" class="headerlink" title="耍杂技的牛"></a><a href="https://www.acwing.com/problem/content/127/" target="_blank" rel="noopener">耍杂技的牛</a></h4><p>按w+s降序排序<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ac</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> w,s;</span><br><span class="line">&#125;c[<span class="number">50010</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(ac a1,ac a2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a1.w+a1.s&lt;a2.w+a2.s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;c[i].w&gt;&gt;c[i].s;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(c+<span class="number">1</span>,c+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>,ans=<span class="number">-1000000000000</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        ans=max(ans,sum-c[i].s);</span><br><span class="line">        sum+=c[i].w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Jjl0229
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://jjl.gold/2020/03/07/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%970x00/" title="算法竞赛进阶指南0x00-算法基础">https://jjl.gold/2020/03/07/算法竞赛进阶指南0x00/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

      <div>
  
    <div>
    
      <div style="text-align:center;color: #ccc;font-size:20px;">天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。望长安于日下，目吴会于云间。地势极而南溟深，天柱高而北辰远。关山难越，谁悲失路之人；萍水相逢，尽是他乡之客。 </div>
    
</div>
  
</div>
      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97/" rel="tag"># 算法竞赛进阶指南</a>
              <a href="/tags/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/" rel="tag"># 算法基础</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/06/Codeforces-Round-625-Div-2-based-on-Technocup-2020-Final-Round/" rel="prev" title="Codeforces Round #625 (Div. 2, based on Technocup 2020 Final Round)">
      <i class="fa fa-chevron-left"></i> Codeforces Round #625 (Div. 2, based on Technocup 2020 Final Round)
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/09/%E5%B9%B3%E9%9D%A2%E6%9C%80%E8%BF%91%E7%82%B9%E5%AF%B9/" rel="next" title="分治求平面最近点对">
      分治求平面最近点对 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#0x01-位运算"><span class="nav-number">1.</span> <span class="nav-text">0x01 位运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#位移运算"><span class="nav-number">1.1.</span> <span class="nav-text">位移运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二进制应用"><span class="nav-number">1.2.</span> <span class="nav-text">二进制应用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x02-递归与递推"><span class="nav-number">2.</span> <span class="nav-text">0x02 递归与递推</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#奇怪的汉诺塔"><span class="nav-number">2.1.</span> <span class="nav-text">奇怪的汉诺塔</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#约数之和"><span class="nav-number">2.2.</span> <span class="nav-text">约数之和</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-分治"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.分治</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-快速幂-逆元"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.快速幂+逆元</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分形之城"><span class="nav-number">2.3.</span> <span class="nav-text">分形之城</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x03-前缀和差分"><span class="nav-number">3.</span> <span class="nav-text">0x03 前缀和差分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#激光炸弹"><span class="nav-number">3.1.</span> <span class="nav-text">激光炸弹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增减序列"><span class="nav-number">3.2.</span> <span class="nav-text">增减序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最高的牛"><span class="nav-number">3.3.</span> <span class="nav-text">最高的牛</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#电影"><span class="nav-number">3.4.</span> <span class="nav-text">电影</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x04二分"><span class="nav-number">4.</span> <span class="nav-text">0x04二分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最佳牛围栏"><span class="nav-number">4.1.</span> <span class="nav-text">最佳牛围栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#赶牛入圈"><span class="nav-number">4.2.</span> <span class="nav-text">赶牛入圈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#防线"><span class="nav-number">4.3.</span> <span class="nav-text">防线</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x05-排序"><span class="nav-number">5.</span> <span class="nav-text">0x05 排序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#中位数"><span class="nav-number">5.1.</span> <span class="nav-text">中位数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#货仓选址"><span class="nav-number">5.1.1.</span> <span class="nav-text">货仓选址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#糖果传递"><span class="nav-number">5.1.2.</span> <span class="nav-text">糖果传递</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#七夕祭"><span class="nav-number">5.1.3.</span> <span class="nav-text">七夕祭</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#士兵"><span class="nav-number">5.1.4.</span> <span class="nav-text">士兵</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态中位数"><span class="nav-number">5.1.5.</span> <span class="nav-text">动态中位数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#超快速排序"><span class="nav-number">5.2.</span> <span class="nav-text">超快速排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#奇数码问题"><span class="nav-number">5.3.</span> <span class="nav-text">奇数码问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0x06-贪心"><span class="nav-number">6.</span> <span class="nav-text">0x06 贪心</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#防晒"><span class="nav-number">6.1.</span> <span class="nav-text">防晒</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#畜栏预约"><span class="nav-number">6.2.</span> <span class="nav-text">畜栏预约</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#雷达设备"><span class="nav-number">6.3.</span> <span class="nav-text">雷达设备</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#任务"><span class="nav-number">6.4.</span> <span class="nav-text">任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#国王的游戏"><span class="nav-number">6.5.</span> <span class="nav-text">国王的游戏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#耍杂技的牛"><span class="nav-number">6.5.1.</span> <span class="nav-text">耍杂技的牛</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jjl0229"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">Jjl0229</p>
  <div class="site-description" itemprop="description">策谋本天成，妙手偶得之</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://codeforces.com/profile/hello201999" title="Codeforces → http:&#x2F;&#x2F;codeforces.com&#x2F;profile&#x2F;hello201999" rel="noopener" target="_blank"><i class="fa fa-fw fa-code"></i>Codeforces</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/weixin_43769146" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_43769146" rel="noopener" target="_blank"><i class="fa fa-fw fa-csdn"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/99326686" title="b站 → https:&#x2F;&#x2F;space.bilibili.com&#x2F;99326686" rel="noopener" target="_blank"><i class="fa fa-fw fa-tv"></i>b站</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jjl0229</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">73k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">4:52</span>
</div>

  
  

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
        loader: {
          load: ['[tex]/mhchem']
        },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
